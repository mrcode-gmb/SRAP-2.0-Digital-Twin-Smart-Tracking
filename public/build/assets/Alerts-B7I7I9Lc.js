import{j as e}from"./ui--EPVQjIL.js";import{r as s,H as a,L as t,d as r}from"./inertia-Cj_WjKpf.js";import{A as l,c as i,b as n,a as c}from"./AuthenticatedLayout-9_QGYa_w.js";import{C as d,a as o}from"./Card-BDwu8o3f.js";import{B as m}from"./Button-DAnlAX8y.js";import{m as x}from"./motion-CwjCYErC.js";import{P as h}from"./plus-C451Pb2i.js";import{F as j}from"./funnel-H8XVsEAS.js";import{C as p}from"./app-BNVVFcTX.js";import{E as u}from"./eye-DfUIjx7h.js";import{T as g}from"./trash-2-PgX3iJZe.js";import{a as y}from"./users-DGojlet8.js";import{C as f}from"./clock-DQ09X4Vz.js";import"./vendor-vi784Xxu.js";import"./utils-54zDqgmH.js";import"./house-DyNubFCu.js";import"./shield-BHovswbK.js";function N({alerts:N,filters:b}){const[v,w]=s.useState(b?.search||""),[k,A]=s.useState(b?.type||""),[C,S]=s.useState(b?.status||""),M=s=>{switch(s){case"critical":return e.jsx(n,{className:"w-5 h-5 text-red-500"});case"warning":return e.jsx(f,{className:"w-5 h-5 text-yellow-500"});case"info":return e.jsx(y,{className:"w-5 h-5 text-blue-500"});default:return e.jsx(y,{className:"w-5 h-5 text-gray-500"})}};return e.jsxs(l,{children:[e.jsx(a,{title:"Alert Management"}),e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Alert Management"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Monitor and manage system alerts and notifications"})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsx(t,{href:"/admin/alerts/create",children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(h,{className:"w-4 h-4"}),"Create Alert"]})})})]})}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-6",children:e.jsx(d,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Alerts"}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search alerts...",value:v,onChange:e=>w(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),e.jsxs("select",{value:k,onChange:e=>A(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"critical",children:"Critical"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"info",children:"Info"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),e.jsxs("select",{value:C,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"acknowledged",children:"Acknowledged"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(m,{onClick:()=>{r.get("/admin/alerts",{search:v,type:k,status:C},{preserveState:!0,preserveScroll:!0})},className:"w-full",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Apply Filters"]})})]})})})}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"space-y-4",children:N?.data?.map((s,a)=>{return e.jsx(x.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2+.1*a},children:e.jsx(d,{className:"hover:shadow-lg transition-all duration-300",children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[M(s.type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:s.title}),(i=s.type,e.jsx(c,{className:{critical:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",info:"bg-blue-100 text-blue-800"}[i]||"bg-gray-100 text-gray-800",children:i.charAt(0).toUpperCase()+i.slice(1)})),(l=s.is_acknowledged,l?e.jsx(c,{className:"bg-green-100 text-green-800",children:"Acknowledged"}):e.jsx(c,{className:"bg-orange-100 text-orange-800",children:"Pending"}))]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:s.message}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["Created: ",new Date(s.created_at).toLocaleDateString()]}),s.kpi&&e.jsxs("span",{children:["Kpis: ",s.kpi.title]}),s.milestone&&e.jsxs("span",{children:["Milestone: ",s.milestone.title]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!s.is_acknowledged&&e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>(e=>{r.post(`/admin/alerts/${e.id}/acknowledge`)})(s),children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Acknowledge"]}),e.jsx(t,{href:`/admin/alerts/${s.id}`,children:e.jsxs(m,{variant:"outline",size:"sm",children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"View"]})}),e.jsx(m,{variant:"outline",size:"sm",onClick:()=>(e=>{confirm("Are you sure you want to delete this alert?")&&r.delete(`/admin/alerts/${e.id}`)})(s),className:"text-red-600 hover:text-red-700",children:e.jsx(g,{className:"w-4 h-4"})})]})]})})})},s.id);var l,i})}),(!N?.data||0===N.data.length)&&e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-center py-12",children:[e.jsx(y,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Alerts Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"No alerts match your current filters."}),e.jsx(t,{href:"/admin/alerts/create",children:e.jsxs(m,{children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"Create Alert"]})})]}),N?.links&&e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mt-8 flex justify-center",children:e.jsx("div",{className:"flex space-x-2",children:N.links.map((s,a)=>e.jsx(t,{href:s.url??"",className:"px-3 py-2 text-sm rounded-lg "+(s.active?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border"),dangerouslySetInnerHTML:{__html:s.label}},a))})})]})]})}export{N as default};
