import{j as e}from"./ui--EPVQjIL.js";import{b as a,r as s,H as r,d as t}from"./inertia-Cj_WjKpf.js";import{A as i,T as l,F as n}from"./AuthenticatedLayout-DyY7H2xW.js";import{C as c,b as d,c as o,d as m,a as u}from"./Card-BDwu8o3f.js";import{B as p}from"./Button-DAnlAX8y.js";import{m as x}from"./motion-CwjCYErC.js";import{A as h}from"./arrow-left-DftW7etX.js";import{C as y,T as j}from"./users-CnFZ8Cqn.js";import{B as g}from"./building-DCAajr5I.js";import{S as b}from"./save-DCdMtMwv.js";import"./vendor-vi784Xxu.js";import"./utils-54zDqgmH.js";import"./house-ChXd5_0Q.js";import"./app-BL8QhPge.js";import"./shield-B1vXgKnl.js";import"./zap-AXpzjYI9.js";function f({kpis:f,pillars:v,departments:N}){const{data:_,setData:k,post:C,processing:w,errors:R}=a({title:"",description:"",type:"kpi_summary",format:"pdf",kpi_ids:[],pillar_ids:[],department_ids:[],date_range:"current_month",custom_start_date:"",custom_end_date:"",include_charts:!0,include_analysis:!0,include_recommendations:!1}),[P,S]=s.useState([]),[D,F]=s.useState([]),[B,I]=s.useState([]),A=[{value:"kpi_summary",label:"KPI Summary Report",icon:y,description:"Overview of all KPI performance"},{value:"pillar_progress",label:"Pillar Progress Report",icon:l,description:"Progress by SRAP pillars"},{value:"department_performance",label:"Department Performance",icon:g,description:"Performance by department"},{value:"milestone_status",label:"Milestone Status Report",icon:j,description:"Current milestone progress"},{value:"comprehensive",label:"Comprehensive Report",icon:n,description:"Complete analysis with all data"}];return e.jsxs(i,{children:[e.jsx(r,{title:"Create Report"}),e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(p,{variant:"ghost",size:"sm",onClick:()=>t.visit("/admin/reports"),className:"flex items-center space-x-2",children:[e.jsx(h,{className:"h-4 w-4"}),e.jsx("span",{children:"Back to Reports"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Create New Report"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Generate custom reports for KPI analysis and tracking"})]})]})})}),e.jsx("form",{onSubmit:e=>{e.preventDefault(),k({..._,kpi_ids:P,pillar_ids:D,department_ids:B}),C(route("admin.reports.store"))},className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:e.jsxs(c,{children:[e.jsxs(d,{children:[e.jsx(o,{children:"Report Information"}),e.jsx(m,{children:"Basic details about your report"})]}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Report Title *"}),e.jsx("input",{type:"text",value:_.title,onChange:e=>k("title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter report title",required:!0}),R.title&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:R.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:_.description,onChange:e=>k("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of the report"})]})]})]})}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:e.jsxs(c,{children:[e.jsxs(d,{children:[e.jsx(o,{children:"Report Type"}),e.jsx(m,{children:"Choose the type of report to generate"})]}),e.jsx(u,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.map(a=>{const s=a.icon;return e.jsx("button",{type:"button",onClick:()=>k("type",a.value),className:"p-4 border-2 rounded-lg text-left transition-colors "+(_.type===a.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(s,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.label}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:a.description})]})]})},a.value)})})})]})}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:e.jsxs(c,{children:[e.jsxs(d,{children:[e.jsx(o,{children:"Date Range"}),e.jsx(m,{children:"Select the time period for the report"})]}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Period"}),e.jsx("select",{value:_.date_range,onChange:e=>k("date_range",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"current_month",label:"Current Month"},{value:"last_month",label:"Last Month"},{value:"current_quarter",label:"Current Quarter"},{value:"last_quarter",label:"Last Quarter"},{value:"current_year",label:"Current Year"},{value:"custom",label:"Custom Range"}].map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),"custom"===_.date_range&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",value:_.custom_start_date,onChange:e=>k("custom_start_date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Date"}),e.jsx("input",{type:"date",value:_.custom_end_date,onChange:e=>k("custom_end_date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:e.jsxs(c,{children:[e.jsx(d,{children:e.jsx(o,{children:"Format & Options"})}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Output Format"}),e.jsxs("select",{value:_.format,onChange:e=>k("format",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"pdf",children:"PDF Report"}),e.jsx("option",{value:"excel",children:"Excel Spreadsheet"}),e.jsx("option",{value:"both",children:"Both PDF & Excel"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"include_charts",checked:_.include_charts,onChange:e=>k("include_charts",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"include_charts",className:"text-sm text-gray-700 dark:text-gray-300",children:"Include Charts & Graphs"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"include_analysis",checked:_.include_analysis,onChange:e=>k("include_analysis",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"include_analysis",className:"text-sm text-gray-700 dark:text-gray-300",children:"Include Analysis"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"include_recommendations",checked:_.include_recommendations,onChange:e=>k("include_recommendations",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"include_recommendations",className:"text-sm text-gray-700 dark:text-gray-300",children:"Include Recommendations"})]})]})]})]})}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:e.jsx(c,{children:e.jsx(u,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(p,{type:"submit",disabled:w,className:"w-full flex items-center justify-center space-x-2",children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx("span",{children:w?"Generating...":"Generate Report"})]}),e.jsx(p,{type:"button",variant:"outline",onClick:()=>t.visit("/admin/reports"),className:"w-full",children:"Cancel"})]})})})})]})]})})]})]})}export{f as default};
