import{j as e}from"./ui-BB-Ns5TH.js";import{r as s,b as a,H as r,d as t}from"./inertia-Cj_WjKpf.js";import{F as i,z as l}from"./index-Cr_A2xMV.js";import{A as n,S as o,T as c,C as d,a as m}from"./AuthenticatedLayout-BBLrwm4R.js";import{C as x,b as p,c as h,d as u,a as g}from"./Card-Ds6DZKCN.js";import{B as j}from"./Button-WmfceJNP.js";import{I as b}from"./Input-CKhTb3wD.js";import{b as f,T as y}from"./users-Vk9iYAaE.js";import{m as v}from"./motion-CkVjjaNW.js";import{P as N}from"./plus-C8kxu608.js";import{T as _}from"./trash-2-DstgOvVN.js";import{S as k}from"./save-CzNJfpSw.js";import"./vendor-vi784Xxu.js";import"./utils-54zDqgmH.js";import"./house-CIkpS4mx.js";import"./app-CZ5g9MqA.js";import"./shield-BVGIsKr8.js";import"./zap-BuVIDKNS.js";function w(){const[w,C]=s.useState([]),[S,A]=s.useState(null),{data:P,setData:T,post:D,processing:z,errors:I}=a({name:"",description:"",scenario_type:"",simulation_period:"",parameters:{budget_change:0,timeline_change:0,resource_change:0,scope_change:0},target_kpis:[],duration_months:6}),R=[{name:"Budget Optimization",description:"Analyze impact of budget changes on project outcomes",icon:c,color:"bg-blue-500"},{name:"Timeline Acceleration",description:"Simulate faster project delivery scenarios",icon:d,color:"bg-green-500"},{name:"Resource Scaling",description:"Test different resource allocation strategies",icon:f,color:"bg-purple-500"},{name:"Risk Mitigation",description:"Evaluate risk reduction measures",icon:y,color:"bg-red-500"}];return e.jsxs(n,{header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Create Scenario Simulation"}),e.jsx(m,{variant:"outline",className:"text-sm",children:"SRAP 2.0 Planning"})]}),children:[e.jsx(r,{title:"Create Scenario - SRAP 2.0"}),e.jsx(i,{position:"top-right"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(o,{className:"w-5 h-5"}),"Scenario Types"]}),e.jsx(u,{children:"Choose a scenario template to get started"})]}),e.jsx(g,{className:"space-y-3",children:R.map((s,a)=>{const r=s.icon;return e.jsx(v.div,{whileHover:{scale:1.02},className:"p-4 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>T("name",s.name),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${s.color} text-white`,children:e.jsx(r,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:s.description})]})]})},a)})})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"Create New Scenario"]}),e.jsx(u,{children:"Define scenario parameters and simulation settings"})]}),e.jsx(g,{children:e.jsxs("form",{onSubmit:e=>{e.preventDefault(),t.post(route("admin.scenarios.simulate"),P,{onSuccess:e=>{l.success("Scenario created successfully!"),T({name:"",description:"",scenario_type:"",simulation_period:"",parameters:{budget_change:0,timeline_change:0,resource_change:0,scope_change:0},target_kpis:[],duration_months:6})},onError:e=>{l.error("Failed to create scenario. Please check your inputs.")}})},className:"space-y-6",children:[Object.keys(I).length>0&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("ul",{className:"list-disc pl-5 space-y-1",children:Object.entries(I).map(([s,a])=>e.jsxs("li",{children:[s.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),": ",a]},s))})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Scenario Name"}),e.jsx(b,{type:"text",value:P.name,onChange:e=>T("name",e.target.value),placeholder:"Enter scenario name",className:"w-full",required:!0}),I.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:I.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Duration (Months)"}),e.jsx(b,{type:"number",value:P.duration_months,onChange:e=>T("duration_months",parseInt(e.target.value)),placeholder:"6",min:"1",max:"24",className:"w-full"}),I.duration_months&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:I.duration_months})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:P.description,onChange:e=>T("description",e.target.value),placeholder:"Describe the scenario objectives and expected outcomes",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),I.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:I.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Scenario Type *"}),e.jsxs("select",{value:P.scenario_type,onChange:e=>T("scenario_type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Select scenario type"}),e.jsx("option",{value:"what_if",children:"What-If Analysis"}),e.jsx("option",{value:"budget_impact",children:"Budget Impact"}),e.jsx("option",{value:"timeline_change",children:"Timeline Change"}),e.jsx("option",{value:"resource_allocation",children:"Resource Allocation"})]}),I.scenario_type&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:I.scenario_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Simulation Period *"}),e.jsxs("select",{value:P.simulation_period,onChange:e=>T("simulation_period",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Select simulation period"}),e.jsx("option",{value:"3_months",children:"3 Months"}),e.jsx("option",{value:"6_months",children:"6 Months"}),e.jsx("option",{value:"1_year",children:"1 Year"}),e.jsx("option",{value:"2_years",children:"2 Years"})]}),I.simulation_period&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:I.simulation_period})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Simulation Parameters"}),e.jsxs(j,{type:"button",variant:"outline",size:"sm",onClick:()=>{T("parameters",{...P.parameters,[`custom_${Date.now()}`]:0})},children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Add Parameter"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(P.parameters).map(([s,a])=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),e.jsx(b,{type:"number",value:a,onChange:e=>((e,s)=>{T("parameters",{...P.parameters,[e]:parseFloat(s)||0})})(s,e.target.value),placeholder:"0",step:"0.1",className:"w-full"}),I.parameters&&I.parameters[s]&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:I.parameters[s]})]}),s.startsWith("custom_")&&e.jsx(j,{type:"button",variant:"outline",size:"sm",onClick:()=>(e=>{const s={...P.parameters};delete s[e],T("parameters",s)})(s),className:"mt-6",children:e.jsx(_,{className:"w-4 h-4"})})]},s))})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-6 border-t",children:[e.jsx(j,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),e.jsxs(j,{type:"submit",disabled:z,className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),z?"Creating...":"Create Scenario"]})]})]})})]})})]})})})]})}export{w as default};
