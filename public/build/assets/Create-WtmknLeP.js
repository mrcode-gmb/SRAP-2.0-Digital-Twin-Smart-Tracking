import{j as e}from"./ui--EPVQjIL.js";import{b as r,H as a,d as t}from"./inertia-Cj_WjKpf.js";import{F as s,z as l}from"./index-Cr_A2xMV.js";import{A as i,F as n,T as d}from"./AuthenticatedLayout-DyY7H2xW.js";import{C as c,b as o,c as u,d as m,a as x}from"./Card-BDwu8o3f.js";import{B as p}from"./Button-DAnlAX8y.js";import{m as g}from"./motion-CwjCYErC.js";import{A as h}from"./arrow-left-DftW7etX.js";import{T as b}from"./users-CnFZ8Cqn.js";import{S as y}from"./save-DCdMtMwv.js";import"./vendor-vi784Xxu.js";import"./utils-54zDqgmH.js";import"./house-ChXd5_0Q.js";import"./app-BL8QhPge.js";import"./shield-B1vXgKnl.js";import"./zap-AXpzjYI9.js";function j({pillars:j,initiatives:f,departments:v,users:N}){const{data:_,setData:k,post:w,processing:C,errors:P}=r({name:"",code:"",description:"",pillar_id:"",initiative_id:"",department_id:"",assigned_to:"",measurement_type:"",target_value:"",current_value:"",unit:"",frequency:"monthly",start_date:"",end_date:"",priority:"2",weight:"1",status:"not_started",baseline_date:"",baseline_value:"",is_active:!0});return e.jsxs(i,{children:[e.jsx(a,{title:"Create New KPI"}),e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:[e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[e.jsx("div",{className:"flex items-center space-x-4 mb-6",children:e.jsxs(p,{variant:"outline",onClick:()=>t.visit("/kpis"),className:"flex items-center gap-2",children:[e.jsx(h,{className:"w-4 h-4"}),"Back to KPIs"]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl shadow-lg",children:e.jsx(b,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Create New KPI"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Define a new Key Performance Indicator for SRAP 2.0 tracking"})]})]})]}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),w("/kpis",{onSuccess:()=>{l.success("KPI created successfully!"),t.visit("/kpis")},onError:e=>{l.error("Failed to create KPI. Please check the form for errors.")}})},className:"space-y-6",children:[e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:e.jsxs(c,{children:[e.jsxs(o,{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(n,{className:"w-5 h-5"}),"Basic Information"]}),e.jsx(m,{children:"Define the core details of your KPI"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"KPI Title *"}),e.jsx("input",{type:"text",value:_.name,onChange:e=>k("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Digital Literacy Rate",required:!0}),P.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"KPI Code *"}),e.jsx("input",{type:"text",value:_.code,onChange:e=>k("code",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., KPI_001",required:!0}),P.code&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.code})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),e.jsx("textarea",{value:_.description,onChange:e=>k("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe what this KPI measures and its importance...",required:!0}),P.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"SRAP Pillar *"}),e.jsxs("select",{value:_.pillar_id,onChange:e=>k("pillar_id",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select a pillar"}),j?.map(r=>e.jsxs("option",{value:r.id,children:[r.name," (",r.code,")"]},r.id))]}),P.pillar_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.pillar_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Initiative (Optional)"}),e.jsxs("select",{value:_.initiative_id,onChange:e=>k("initiative_id",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select an initiative"}),f?.filter(e=>!_.pillar_id||e.pillar_id==_.pillar_id).map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}),P.initiative_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.initiative_id})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Department *"}),e.jsxs("select",{value:_.department_id,onChange:e=>k("department_id",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select a department"}),v?.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}),P.department_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.department_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assigned To"}),e.jsxs("select",{value:_.assigned_to,onChange:e=>k("assigned_to",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select a user"}),N?.map(r=>e.jsxs("option",{value:r.id,children:[r.name," (",r.email,")"]},r.id))]}),P.assigned_to&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.assigned_to})]})]})]})}),e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:e.jsxs(c,{children:[e.jsxs(o,{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-5 h-5"}),"Measurement Details"]}),e.jsx(m,{children:"Define how this KPI will be measured and tracked"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Measurement Type *"}),e.jsxs("select",{value:_.measurement_type,onChange:e=>k("measurement_type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select measurement type"}),e.jsx("option",{value:"percentage",children:"Percentage (%)"}),e.jsx("option",{value:"number",children:"Number/Count"}),e.jsx("option",{value:"currency",children:"Currency (â‚¦)"}),e.jsx("option",{value:"ratio",children:"Ratio"})]}),P.measurement_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.measurement_type})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Value *"}),e.jsx("input",{type:"number",step:"0.01",value:_.current_value,onChange:e=>k("current_value",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),P.current_value&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.current_value})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Target Value *"}),e.jsx("input",{type:"number",step:"0.01",value:_.target_value,onChange:e=>k("target_value",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),P.target_value&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.target_value})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Unit *"}),e.jsx("input",{type:"text",value:_.unit,onChange:e=>k("unit",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., %, count, score",required:!0}),P.unit&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.unit})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date *"}),e.jsx("input",{type:"date",value:_.start_date,onChange:e=>k("start_date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),P.start_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.start_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Date *"}),e.jsx("input",{type:"date",value:_.end_date,onChange:e=>k("end_date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),P.end_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.end_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority *"}),e.jsxs("select",{value:_.priority,onChange:e=>k("priority",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"1",children:"High Priority"}),e.jsx("option",{value:"2",children:"Medium Priority"}),e.jsx("option",{value:"3",children:"Low Priority"})]}),P.priority&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.priority})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Measurement Frequency *"}),e.jsxs("select",{value:_.frequency,onChange:e=>k("frequency",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"annually",children:"Annually"})]}),P.frequency&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.frequency})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Calculation Method"}),e.jsx("textarea",{value:_.calculation_method,onChange:e=>k("calculation_method",e.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe how this KPI is calculated..."}),P.calculation_method&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.calculation_method})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data Source"}),e.jsx("input",{type:"text",value:_.data_source,onChange:e=>k("data_source",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Survey data, System reports, Manual input"}),P.data_source&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.data_source})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Baseline Value *"}),e.jsx("input",{type:"number",step:"0.01",value:_.baseline_value,onChange:e=>k("baseline_value",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),P.baseline_value&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.baseline_value})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Baseline Date *"}),e.jsx("input",{type:"date",value:_.baseline_date,onChange:e=>k("baseline_date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),P.baseline_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.baseline_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Weight (1-10)"}),e.jsx("input",{type:"number",min:"1",max:"10",value:_.weight,onChange:e=>k("weight",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),P.weight&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.weight})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:_.is_active,onChange:e=>k("is_active",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900 dark:text-white",children:"Active KPI (uncheck to save as draft)"})]})]})]})}),e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"flex items-center justify-end space-x-4",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>t.visit("/kpis"),children:"Cancel"}),e.jsxs(p,{type:"submit",disabled:C,className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),C?"Creating...":"Create KPI"]})]})]})]}),e.jsx(s,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,theme:{primary:"#4ade80",secondary:"#000"}},error:{duration:4e3,theme:{primary:"#ef4444",secondary:"#000"}}}})]})}export{j as default};
