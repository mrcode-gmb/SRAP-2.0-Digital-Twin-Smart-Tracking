import{j as e}from"./ui--EPVQjIL.js";import{b as s,H as r,L as t}from"./inertia-Cj_WjKpf.js";import{A as a,F as i,C as l}from"./AuthenticatedLayout-DyY7H2xW.js";import{C as d,b as c,c as n,d as o,a as m}from"./Card-BDwu8o3f.js";import{B as x}from"./Button-DAnlAX8y.js";import{m as p}from"./motion-CwjCYErC.js";import{A as u}from"./arrow-left-DftW7etX.js";import{S as g}from"./square-check-big-C0EXBPSB.js";import{S as h}from"./save-DCdMtMwv.js";import"./vendor-vi784Xxu.js";import"./utils-54zDqgmH.js";import"./house-ChXd5_0Q.js";import"./app-BL8QhPge.js";import"./users-CnFZ8Cqn.js";import"./shield-B1vXgKnl.js";import"./zap-AXpzjYI9.js";function b({milestone:b,kpis:j,users:f}){const{data:y,setData:v,put:N,processing:k,errors:_}=s({title:b.title||"",description:b.description||"",kpi_id:b.kpi_id||"",assigned_to:b.assigned_to||"",due_date:b.due_date||"",priority:b.priority||"medium",completion_percentage:b.completion_percentage||0,deliverables:b.deliverables||"",success_criteria:b.success_criteria||"",dependencies:b.dependencies||"",is_active:b.is_active??!0});return e.jsxs(a,{children:[e.jsx(r,{title:`Edit Milestone: ${b.title}`}),e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:[e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[e.jsx("div",{className:"flex items-center space-x-4 mb-4",children:e.jsx(t,{href:`/milestones/${b.id}`,children:e.jsxs(x,{variant:"outline",size:"sm",children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Back to Milestone"]})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Edit Milestone"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Update milestone details and progress"})]}),e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:e.jsxs("form",{onSubmit:e=>{e.preventDefault(),N(`/milestones/${b.id}`)},className:"space-y-6",children:[e.jsxs(d,{children:[e.jsxs(c,{children:[e.jsxs(n,{className:"flex items-center space-x-2",children:[e.jsx(i,{className:"w-5 h-5"}),e.jsx("span",{children:"Basic Information"})]}),e.jsx(o,{children:"Update the essential details for your milestone"})]}),e.jsxs(m,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Milestone Title *"}),e.jsx("input",{type:"text",value:y.title,onChange:e=>v("title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter milestone title...",required:!0}),_.title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),e.jsx("textarea",{value:y.description,onChange:e=>v("description",e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe the milestone objectives and scope...",required:!0}),_.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Associated KPI *"}),e.jsxs("select",{value:y.kpi_id,onChange:e=>v("kpi_id",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select a KPI"}),j?.map(s=>e.jsxs("option",{value:s.id,children:[s.name," (",s.pillar?.code,")"]},s.id))]}),_.kpi_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.kpi_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assigned To"}),e.jsxs("select",{value:y.assigned_to,onChange:e=>v("assigned_to",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select a user"}),f?.map(s=>e.jsxs("option",{value:s.id,children:[s.name," (",s.email,")"]},s.id))]}),_.assigned_to&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.assigned_to})]})]})]})]}),e.jsxs(d,{children:[e.jsxs(c,{children:[e.jsxs(n,{className:"flex items-center space-x-2",children:[e.jsx(l,{className:"w-5 h-5"}),e.jsx("span",{children:"Timeline & Priority"})]}),e.jsx(o,{children:"Update the timeline and priority level for this milestone"})]}),e.jsx(m,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Due Date *"}),e.jsx("input",{type:"date",value:y.due_date,onChange:e=>v("due_date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),_.due_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.due_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority *"}),e.jsx("select",{value:y.priority,onChange:e=>v("priority",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[{value:"low",label:"Low",color:"bg-gray-100 text-gray-800"},{value:"medium",label:"Medium",color:"bg-yellow-100 text-yellow-800"},{value:"high",label:"High",color:"bg-orange-100 text-orange-800"},{value:"critical",label:"Critical",color:"bg-red-100 text-red-800"}].map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))}),_.priority&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.priority})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Progress (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:y.completion_percentage,onChange:e=>v("completion_percentage",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),_.completion_percentage&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.completion_percentage})]})]})})]}),e.jsxs(d,{children:[e.jsxs(c,{children:[e.jsxs(n,{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"w-5 h-5"}),e.jsx("span",{children:"Additional Details"})]}),e.jsx(o,{children:"Update context and requirements for this milestone"})]}),e.jsxs(m,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Deliverables"}),e.jsx("textarea",{value:y.deliverables,onChange:e=>v("deliverables",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"List the expected deliverables for this milestone..."}),_.deliverables&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.deliverables})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Success Criteria"}),e.jsx("textarea",{value:y.success_criteria,onChange:e=>v("success_criteria",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Define what success looks like for this milestone..."}),_.success_criteria&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.success_criteria})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dependencies"}),e.jsx("textarea",{value:y.dependencies,onChange:e=>v("dependencies",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"List any dependencies or prerequisites..."}),_.dependencies&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.dependencies})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:y.is_active,onChange:e=>v("is_active",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Active milestone (can be tracked and updated)"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[e.jsx(t,{href:`/milestones/${b.id}`,children:e.jsx(x,{variant:"outline",children:"Cancel"})}),e.jsxs(x,{type:"submit",disabled:k,children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),k?"Updating...":"Update Milestone"]})]})]})})]})]})}export{b as default};
