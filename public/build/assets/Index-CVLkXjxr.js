import{j as e}from"./ui--EPVQjIL.js";import{r as s,H as a,L as t,d as r}from"./inertia-Cj_WjKpf.js";import{A as l,a as i,B as n,C as c,T as d}from"./AuthenticatedLayout-rIECtlsZ.js";import{C as o,a as m,b as x,c as h}from"./Card-BDwu8o3f.js";import{B as p}from"./Button-DAnlAX8y.js";import{P as j}from"./Progress-CduTzxar.js";import{m as g}from"./motion-CwjCYErC.js";import{P as u}from"./plus-CxyHirwb.js";import{F as y}from"./funnel-Caub1zvl.js";import{E as f}from"./ellipsis-DDGgy8uM.js";import{B as N}from"./building-BtATLPFE.js";import{E as v}from"./eye-DDnAUwaJ.js";import{S as b}from"./square-pen-9z4_wv0A.js";import{T as w}from"./trash-2-NeBfMbBa.js";import{T as k}from"./users-h2zC9xgO.js";import{C as P}from"./app-mKMKGM5i.js";import{T as S}from"./trending-up-CqbtLL5e.js";import"./vendor-vi784Xxu.js";import"./utils-54zDqgmH.js";import"./house-V8upMmDd.js";function _({kpis:_,pillars:C,departments:I,filters:A}){const[T,K]=s.useState(A?.search||""),[F,L]=s.useState(A?.pillar||""),[M,z]=s.useState(A?.status||""),B=s=>{const a=s.progress_percentage;return a>=100?e.jsx(n,{className:"bg-green-100 text-green-800",children:"Completed"}):a>=75?e.jsx(n,{className:"bg-blue-100 text-blue-800",children:"On Track"}):a>=50?e.jsx(n,{className:"bg-yellow-100 text-yellow-800",children:"In Progress"}):e.jsx(n,{className:"bg-red-100 text-red-800",children:"At Risk"})},E=s=>{const a=s.progress_percentage;return a>=100?e.jsx(P,{className:"w-5 h-5 text-green-500"}):a>=75?e.jsx(S,{className:"w-5 h-5 text-blue-500"}):a>=50?e.jsx(k,{className:"w-5 h-5 text-yellow-500"}):e.jsx(d,{className:"w-5 h-5 text-red-500"})};return e.jsxs(l,{children:[e.jsx(a,{title:"KPI Management"}),e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"KPI Management"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Monitor and manage Key Performance Indicators for SRAP 2.0"})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsx(t,{href:"/kpis/create",children:e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4"}),"Add New KPI"]})})})]})}),e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-6",children:e.jsx(o,{children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search KPIs"}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search by title or description...",value:T,onChange:e=>K(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"SRAP Pillar"}),e.jsxs("select",{value:F,onChange:e=>L(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Pillars"}),C?.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),e.jsxs("select",{value:M,onChange:e=>z(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"on_track",children:"On Track"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"at_risk",children:"At Risk"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(p,{onClick:()=>{r.get("/kpis",{search:T,pillar:F,status:M},{preserveState:!0,preserveScroll:!0})},className:"w-full",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Apply Filters"]})})]})})})}),e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:_?.data?.map((s,a)=>e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2+.1*a},children:e.jsxs(o,{className:"hover:shadow-lg transition-all duration-300 border-0 shadow-md",children:[e.jsx(x,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[E(s),e.jsxs("div",{children:[e.jsx(h,{className:"text-lg font-semibold line-clamp-2",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[B(s),e.jsx(n,{variant:"outline",className:"text-xs",children:s.pillar?.code})]})]})]}),e.jsx("div",{className:"relative",children:e.jsx(p,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(f,{className:"w-4 h-4"})})})]})}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:s.description}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),e.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:[s.progress_percentage,"%"]})]}),e.jsx(j,{value:s.progress_percentage,className:"h-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Current"}),e.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:[s.current_value," ",s.unit]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Target"}),e.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:[s.target_value," ",s.unit]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 pt-2 border-t",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(N,{className:"w-3 h-3 mr-1"}),s.department?.name]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(c,{className:"w-3 h-3 mr-1"}),"Due: ",new Date(s.target_date).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(t,{href:`/kpis/${s.id}`,children:e.jsxs(p,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"View"]})}),e.jsx(t,{href:`/kpis/${s.id}/edit`,children:e.jsxs(p,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Edit"]})}),e.jsx(p,{variant:"outline",size:"sm",onClick:()=>(e=>{confirm(`Are you sure you want to delete "${e.title}"?`)&&r.delete(`/kpis/${e.id}`)})(s),className:"text-red-600 hover:text-red-700",children:e.jsx(w,{className:"w-4 h-4"})})]})]})})]})},s.id))}),(!_?.data||0===_.data.length)&&e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-center py-12",children:[e.jsx(k,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No KPIs Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Get started by creating your first KPI to track performance."}),e.jsx(t,{href:"/kpis/create",children:e.jsxs(p,{children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Create Your First KPI"]})})]}),_?.links&&e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mt-8 flex justify-center",children:e.jsx("div",{className:"flex space-x-2",children:_.links.map((s,a)=>s.url?e.jsx(t,{href:s.url,className:"px-3 py-2 text-sm rounded-lg "+(s.active?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border"),dangerouslySetInnerHTML:{__html:s.label}},a):e.jsx("span",{className:"px-3 py-2 text-sm rounded-lg text-gray-400 bg-gray-100 cursor-not-allowed",dangerouslySetInnerHTML:{__html:s.label}},a))})})]})]})}export{_ as default};
