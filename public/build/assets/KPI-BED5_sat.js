import{j as e}from"./ui--EPVQjIL.js";import{r as a,H as s,L as t,d as r}from"./inertia-Cj_WjKpf.js";import{A as l,b as i,c as n,a as d,T as c}from"./AuthenticatedLayout-DyY7H2xW.js";import{C as o,a as x}from"./Card-BDwu8o3f.js";import{B as m}from"./Button-DAnlAX8y.js";import{P as g}from"./PrimaryButton-BUk_Vl8V.js";import{S as h,D as u}from"./DangerButton-BaXVJNG3.js";import{m as p}from"./motion-CwjCYErC.js";import{T as j,C as y,b}from"./users-CnFZ8Cqn.js";import{c as f,C as N}from"./app-BL8QhPge.js";import{C as k}from"./clock-COuS2uwh.js";import{F as w}from"./funnel-CcxMWQ2A.js";import{D as v}from"./download-CUlPYDvm.js";import{R as _}from"./refresh-cw-Cy3AmbKQ.js";import{P}from"./plus-BmBwITw-.js";import{E as C}from"./eye-DR0gw_dG.js";import{S as I}from"./square-pen-DeinhMDa.js";import{T as K}from"./trash-2-BkFLWTz8.js";import{T as S}from"./trending-down-BwR2VRWC.js";import"./vendor-vi784Xxu.js";import"./utils-54zDqgmH.js";import"./house-ChXd5_0Q.js";import"./shield-B1vXgKnl.js";import"./zap-AXpzjYI9.js";
/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=f("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);function A({kpis:f=[],pillars:A=[],departments:D=[],filters:E={},statuses:R={}}){const[B,M]=a.useState(E.search||""),[F,J]=a.useState(E.status||""),[L,O]=a.useState(E.pillar||""),[$,q]=a.useState(E.department||""),z=f?.data||f||[],G=z.length>0?z:[{id:1,name:"Broadband Penetration Rate",code:"KPI-001",description:"Percentage of households with broadband internet access",current_value:65.2,target_value:70,unit:"%",status:"on_track",priority:"high",pillar:{name:"ICT Infrastructure",color:"blue"},department:{name:"ICT Infrastructure"},assigned_user:{name:"John Doe"},progress_percentage:93.1,last_updated:"2 hours ago"},{id:2,name:"Digital Literacy Rate",code:"KPI-002",description:"Percentage of population with basic digital skills",current_value:42.8,target_value:60,unit:"%",status:"at_risk",priority:"high",pillar:{name:"Digital Economy",color:"green"},department:{name:"Digital Economy"},assigned_user:{name:"Jane Smith"},progress_percentage:71.3,last_updated:"4 hours ago"},{id:3,name:"Cybersecurity Incidents",code:"KPI-003",description:"Number of reported cybersecurity incidents per month",current_value:12,target_value:15,unit:"incidents",status:"exceeding",priority:"critical",pillar:{name:"Cybersecurity",color:"red"},department:{name:"Cybersecurity"},assigned_user:{name:"Mike Johnson"},progress_percentage:125,last_updated:"1 hour ago"}],H=z.length>0?z:G,U=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"on_track":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"at_risk":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"behind":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"exceeding":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},V=e=>{switch(e){case"critical":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},Q=(a,s)=>{const t=a/s*100;return t>=100?e.jsx(c,{className:"w-4 h-4 text-green-500"}):t>=80?e.jsx(c,{className:"w-4 h-4 text-blue-500"}):t>=60?e.jsx(T,{className:"w-4 h-4 text-yellow-500"}):e.jsx(S,{className:"w-4 h-4 text-red-500"})},W=f?.total||H.length,X=H.filter(e=>"on_track"===e.status).length,Y=H.filter(e=>"at_risk"===e.status).length,Z=H.filter(e=>"completed"===e.status).length;return e.jsxs(l,{children:[e.jsx(s,{title:"KPI Management - SRAP 2.0"}),e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"KPI Management"}),e.jsx("p",{className:"text-blue-100",children:"Manage and monitor Key Performance Indicators for NITDA SRAP 2.0"})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx(j,{className:"w-16 h-16 text-blue-200"})})]})})}),e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(o,{className:"border-0 shadow-lg",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total KPIs"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:W})]}),e.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-xl",children:e.jsx(j,{className:"w-6 h-6 text-blue-600"})})]})})}),e.jsx(o,{className:"border-0 shadow-lg",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"On Track"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:X})]}),e.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-xl",children:e.jsx(N,{className:"w-6 h-6 text-green-600"})})]})})}),e.jsx(o,{className:"border-0 shadow-lg",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"At Risk"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:Y})]}),e.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900 rounded-xl",children:e.jsx(i,{className:"w-6 h-6 text-yellow-600"})})]})})}),e.jsx(o,{className:"border-0 shadow-lg",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Completed"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:Z})]}),e.jsx("div",{className:"p-3 bg-emerald-100 dark:bg-emerald-900 rounded-xl",children:e.jsx(k,{className:"w-6 h-6 text-emerald-600"})})]})})})]}),e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search KPIs...",value:B,onChange:e=>M(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:F,onChange:e=>J(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"on_track",children:"On Track"}),e.jsx("option",{value:"at_risk",children:"At Risk"}),e.jsx("option",{value:"behind",children:"Behind"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"exceeding",children:"Exceeding"})]}),e.jsxs(m,{variant:"outline",onClick:()=>{r.get(route("admin.kpis.index"),{search:B,status:F,pillar:L,department:$},{preserveState:!0})},children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Filter"]}),e.jsx(m,{variant:"outline",onClick:()=>{M(""),J(""),O(""),q(""),r.get(route("admin.kpis.index"))},children:"Clear"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(m,{variant:"outline",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Export"]}),e.jsxs(m,{variant:"outline",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Refresh"]}),e.jsx(t,{href:route("admin.kpis.create"),children:e.jsxs(g,{children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Add KPI"]})})]})]})}),e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:H.map((a,s)=>e.jsx(p.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3+.1*s},children:e.jsx(o,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 h-full",children:e.jsxs(x,{className:"p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:a.name}),Q(a.current_value,a.target_value)]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:a.code}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsx(d,{className:U(a.status),children:a.status.replace("_"," ")}),e.jsx(d,{className:V(a.priority),children:a.priority})]})]})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:a.description}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[a.current_value,a.unit]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Target: ",a.target_value,a.unit]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[Math.round(a.current_value/a.target_value*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full transition-all duration-500 "+("exceeding"===a.status?"bg-emerald-500":"completed"===a.status?"bg-green-500":"on_track"===a.status?"bg-blue-500":"at_risk"===a.status?"bg-yellow-500":"bg-red-500"),style:{width:`${Math.min(a.current_value/a.target_value*100,100)}%`}})})]})]}),e.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-600 dark:text-gray-400",children:[a.pillar&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:a.pillar.name})]}),a.assigned_user&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:a.assigned_user.name})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Updated ",a.last_updated]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(t,{href:route("admin.kpis.show",a.id),className:"flex-1",children:e.jsxs(h,{className:"w-full",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"View"]})}),e.jsx(t,{href:route("admin.kpis.edit",a.id),className:"flex-1",children:e.jsxs(h,{className:"w-full",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Edit"]})}),e.jsx(u,{onClick:()=>{return e=a.id,s=a.name,void(confirm(`Are you sure you want to delete "${s}"? This action cannot be undone.`)&&r.delete(route("admin.kpis.destroy",e),{onSuccess:()=>{},onError:e=>{alert("Error deleting KPI: "+Object.values(e).join(", "))}}));var e,s},className:"px-3",children:e.jsx(K,{className:"w-4 h-4"})})]})]})})},a.id))}),0===H.length&&e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"text-center py-12",children:[e.jsx(j,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No KPIs Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Get started by creating your first KPI to track performance metrics."}),e.jsx(t,{href:route("admin.kpis.create"),children:e.jsxs(g,{children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Create First KPI"]})})]})]})]})}export{A as default};
