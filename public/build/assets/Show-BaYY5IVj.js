import{j as e}from"./ui-uJYCHPmv.js";import{H as s,L as a,d as t}from"./inertia-rR7Pl7wf.js";import{A as r,a as l,C as i,b as c}from"./AuthenticatedLayout-DdS3X_BT.js";import{C as m,b as n,c as x,a as d}from"./Card-CboSs8cY.js";import{B as o}from"./Button-ZWMNRGrJ.js";import{A as j}from"./arrow-left-CpHiFv2-.js";import{E as h}from"./eye-CBpvo4zl.js";import{C as g,b as p}from"./app-BwaKtS1U.js";import{E as N}from"./eye-off-CJnt70LC.js";import{I as y}from"./info-Crb2Ch7C.js";import{C as f}from"./clock-DsiLXbLI.js";import{U as b,a as u}from"./users-DsjI5nqW.js";import"./vendor-vi784Xxu.js";import"./utils-54zDqgmH.js";import"./house-BZUBag7A.js";import"./shield-zrJRN7tf.js";import"./zap-DsGtfjvm.js";import"./motion-B4ydAICn.js";function w({alert:w}){const v=e=>new Date(e).toLocaleString(),k=s=>{if(!s||"string"!=typeof s)return e.jsx(l,{className:"bg-gray-100 text-gray-800",children:"Unknown"});return e.jsx(l,{className:{critical:"bg-red-100 text-red-800",high:"bg-orange-100 text-orange-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-blue-100 text-blue-800"}[s]||"bg-gray-100 text-gray-800",children:s.charAt(0).toUpperCase()+s.slice(1)})},A=s=>{if(!s||"string"!=typeof s)return e.jsx(l,{className:"bg-gray-100 text-gray-800",children:"Unknown"});return e.jsx(l,{className:{error:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",success:"bg-green-100 text-green-800",info:"bg-blue-100 text-blue-800"}[s]||"bg-gray-100 text-gray-800",children:s.charAt(0).toUpperCase()+s.slice(1)})};return e.jsxs(r,{children:[e.jsx(s,{title:"Alert Details"}),e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:flex sm:items-center",children:[e.jsxs("div",{className:"sm:flex-auto",children:[e.jsx("div",{className:"flex items-center gap-3 mb-4",children:e.jsxs(a,{href:route("admin.alerts.index"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[e.jsx(j,{className:"w-4 h-4 mr-1"}),"Back to Alerts"]})}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Alert Details"}),e.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"View and manage alert information"})]}),e.jsxs("div",{className:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none space-x-3",children:[!w.is_read&&e.jsxs(o,{onClick:()=>{t.post("/admin/alerts/mark-read",{alert_ids:[w.id]},{onSuccess:()=>{t.reload()}})},variant:"outline",children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"Mark as Read"]}),!w.acknowledged_at&&e.jsxs(o,{onClick:()=>{t.post(`/admin/alerts/${w.id}/acknowledge`,{},{onSuccess:()=>{t.reload()}})},className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Acknowledge"]})]})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(m,{children:[e.jsx(n,{children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:(s=>{switch(s){case"error":return e.jsx(p,{className:"w-6 h-6 text-red-600"});case"warning":return e.jsx(c,{className:"w-6 h-6 text-yellow-600"});case"success":return e.jsx(g,{className:"w-6 h-6 text-green-600"});case"info":return e.jsx(y,{className:"w-6 h-6 text-blue-600"});default:return e.jsx(u,{className:"w-6 h-6 text-gray-600"})}})(w.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx(x,{className:"text-xl",children:w.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[A(w.type),k(w.priority),w.is_read?e.jsxs(l,{className:"bg-green-100 text-green-800",children:[e.jsx(h,{className:"w-3 h-3 mr-1"}),"Read"]}):e.jsxs(l,{className:"bg-gray-100 text-gray-800",children:[e.jsx(N,{className:"w-3 h-3 mr-1"}),"Unread"]}),w.acknowledged_at&&e.jsxs(l,{className:"bg-blue-100 text-blue-800",children:[e.jsx(g,{className:"w-3 h-3 mr-1"}),"Acknowledged"]})]})]})]})}),e.jsxs(d,{children:[e.jsx("div",{className:"prose max-w-none",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:w.message})}),w.metadata&&Object.keys(w.metadata).length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Additional Information"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("pre",{className:"text-sm text-gray-600 overflow-x-auto",children:JSON.stringify(w.metadata,null,2)})})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsx(n,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-5 h-5"}),"Alert Information"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority"}),e.jsx("div",{className:"mt-1",children:k(w.priority)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Type"}),e.jsx("div",{className:"mt-1",children:A(w.type)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Triggered At"}),e.jsxs("p",{className:"text-sm text-gray-900 mt-1 flex items-center gap-1",children:[e.jsx(f,{className:"w-3 h-3"}),v(w.triggered_at)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email Sent"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:w.email_sent?e.jsx(l,{className:"bg-green-100 text-green-800",children:"Yes"}):e.jsx(l,{className:"bg-gray-100 text-gray-800",children:"No"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Created"}),e.jsxs("p",{className:"text-sm text-gray-900 mt-1 flex items-center gap-1",children:[e.jsx(i,{className:"w-3 h-3"}),v(w.created_at)]})]})]})]}),w.recipients&&w.recipients.length>0&&e.jsxs(m,{children:[e.jsx(n,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5"}),"Recipients"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-2",children:w.recipients.map((s,a)=>e.jsx("div",{className:"text-sm text-gray-700",children:s},a))})})]}),w.acknowledged_at&&e.jsxs(m,{children:[e.jsx(n,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5"}),"Acknowledgment"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Acknowledged By"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:w.acknowledged_by?.name||"Unknown User"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Acknowledged At"}),e.jsxs("p",{className:"text-sm text-gray-900 mt-1 flex items-center gap-1",children:[e.jsx(f,{className:"w-3 h-3"}),v(w.acknowledged_at)]})]})]})]}),w.alertable_type&&e.jsxs(m,{children:[e.jsx(n,{children:e.jsx(x,{children:"Related Object"})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Type"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:w.alertable_type.split("\\").pop()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ID"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1 font-mono",children:w.alertable_id})]})]})})]})]})]})]})]})}export{w as default};
