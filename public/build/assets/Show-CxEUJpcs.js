import{j as e}from"./ui--EPVQjIL.js";import{H as s,L as t}from"./inertia-Cj_WjKpf.js";import{A as i,B as a,C as r,F as l,T as c}from"./AuthenticatedLayout-rIECtlsZ.js";import{C as n,b as d,c as x,d as m,a as o}from"./Card-BDwu8o3f.js";import{P as p}from"./Progress-CduTzxar.js";import{m as h}from"./motion-CwjCYErC.js";import{A as j}from"./arrow-left-Ch62iP75.js";import{B as y,T as g,C as N,U as u}from"./users-h2zC9xgO.js";import{T as f}from"./trending-up-CqbtLL5e.js";import{C as b}from"./app-mKMKGM5i.js";import{A as v}from"./activity-DrCDp6nI.js";import{C as w}from"./clock-C9IOtF09.js";import"./vendor-vi784Xxu.js";import"./utils-54zDqgmH.js";import"./Button-DAnlAX8y.js";import"./house-V8upMmDd.js";function _({prediction:_}){const k=s=>e.jsx(a,{className:{low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-red-100 text-red-800",critical:"bg-red-200 text-red-900"}[s]||"bg-gray-100 text-gray-800",children:s?s.charAt(0).toUpperCase()+s.slice(1):"Unknown"}),P=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e.jsxs(i,{children:[e.jsx(s,{title:`AI Prediction - ${_.kpi?.name||"Details"}`}),e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[e.jsx(h.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(t,{href:"/admin/ai-predictions",className:"flex items-center text-gray-500 hover:text-gray-700 transition-colors",children:[e.jsx(j,{className:"w-4 h-4 mr-1"}),"Back to Predictions"]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(y,{className:"w-6 h-6 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Prediction Details"})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:(s=>{const t={completed:{color:"bg-green-100 text-green-800",icon:b},processing:{color:"bg-blue-100 text-blue-800",icon:w},failed:{color:"bg-red-100 text-red-800",icon:c},pending:{color:"bg-yellow-100 text-yellow-800",icon:w}},i=t[s]||t.pending,r=i.icon;return e.jsxs(a,{className:`${i.color} flex items-center gap-1`,children:[e.jsx(r,{className:"w-3 h-3"}),s.charAt(0).toUpperCase()+s.slice(1)]})})(_.status)})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs(n,{children:[e.jsxs(d,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5"}),"Prediction Overview"]}),e.jsxs(m,{children:["AI-generated prediction for ",_.kpi?.name]})]}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"KPI Name"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:_.kpi?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Prediction Type"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 capitalize",children:_.prediction_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Prediction Date"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:P(_.prediction_date)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Model Version"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:_.model_version||"v1.0"})]})]}),_.forecast_period_start&&_.forecast_period_end&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Forecast Period"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[P(_.forecast_period_start)," - ",P(_.forecast_period_end)]})]}),_.notes&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Notes"}),e.jsx("p",{className:"text-gray-700 mt-1",children:_.notes})]})]})]})}),_.prediction_result&&(_.prediction_result.predictions?e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs(n,{children:[e.jsx(d,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"Bulk Prediction Results (",_.prediction_result.predictions.length," items)"]})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-4",children:_.prediction_result.predictions.map((s,t)=>e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("h5",{className:"font-semibold",children:["Row ",s.row_id||t+1]}),k(s.risk_level)]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Outcome:"})," ",s.predicted_outcome]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Risk Score:"})," ",s.risk_score?.toFixed(1),"%"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Progress:"})," ",s.inputs?.progress,"%"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Confidence:"})," ",(100*s.confidence).toFixed(0),"%"]})]}),s.recommendations&&e.jsxs("div",{className:"mt-2",children:[e.jsx("strong",{children:"Recommendations:"}),e.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 mt-1",children:s.recommendations.slice(0,2).map((s,t)=>e.jsx("li",{children:s},t))})]})]},t))})})]})}):e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs(n,{children:[e.jsx(d,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"Prediction Results & Recommendations"]})}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Key Predictions"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Metric"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Predicted Value"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[_.prediction_result.risk_level&&e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Risk Level"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.prediction_result.risk_level}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k(_.prediction_result.risk_level)})]}),_.prediction_result.predicted_outcome&&e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Predicted Outcome"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.prediction_result.predicted_outcome}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(a,{className:"bg-blue-100 text-blue-800",children:"Forecast"})})]}),_.prediction_result.success_probability&&e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Success Probability"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[_.prediction_result.success_probability,"%"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(p,{value:_.prediction_result.success_probability,className:"h-2 w-20"})})]}),_.prediction_result.expected_completion&&e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Expected Completion"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P(_.prediction_result.expected_completion)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs(a,{className:"bg-green-100 text-green-800",children:[e.jsx(r,{className:"w-3 h-3 mr-1"}),"Timeline"]})})]})]})]})})]}),_.prediction_result.recommendations&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5"}),"AI Recommendations"]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("ul",{className:"space-y-2",children:Array.isArray(_.prediction_result.recommendations)?_.prediction_result.recommendations.map((s,t)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(b,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-blue-800",children:s})]},t)):e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(b,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-blue-800",children:_.prediction_result.recommendations})]})})})]}),e.jsxs("details",{className:"border border-gray-200 rounded-lg",children:[e.jsx("summary",{className:"px-4 py-2 bg-gray-50 cursor-pointer text-sm font-medium text-gray-700 hover:bg-gray-100",children:"View Raw JSON Data (Technical Details)"}),e.jsx("div",{className:"p-4 bg-gray-50",children:e.jsx("pre",{className:"text-xs text-gray-600 whitespace-pre-wrap overflow-x-auto",children:JSON.stringify(_.prediction_result,null,2)})})]})]})]})})),_.input_data&&e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsxs(n,{children:[e.jsx(d,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(l,{className:"w-5 h-5"}),"Input Data"]})}),e.jsx(o,{children:e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:JSON.stringify(_.input_data,null,2)})})})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},children:e.jsxs(n,{children:[e.jsx(d,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5"}),"Metrics"]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Confidence Score"}),e.jsxs("span",{className:"text-lg font-bold "+(A=_.confidence_score,A>=90?"text-green-600":A>=75?"text-blue-600":A>=60?"text-yellow-600":"text-red-600"),children:[_.confidence_score,"%"]})]}),e.jsx(p,{value:_.confidence_score,className:"h-2"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[_.confidence_level||"Medium"," Confidence"]})]}),_.risk_score&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Risk Score"}),e.jsxs("span",{className:"text-lg font-bold text-red-600",children:[_.risk_score,"%"]})]}),e.jsx(p,{value:_.risk_score,className:"h-2"}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Risk Level:"}),k(_.risk_level)]})]})]})]})}),e.jsx(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:e.jsxs(n,{children:[e.jsx(d,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"w-5 h-5"}),"Prediction Info"]})}),e.jsxs(o,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created By"}),e.jsx("p",{className:"text-sm text-gray-900",children:_.user?.name||"System"})]}),_.requested_by&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Requested By"}),e.jsx("p",{className:"text-sm text-gray-900",children:_.requestedBy?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created At"}),e.jsx("p",{className:"text-sm text-gray-900",children:P(_.created_at)})]}),_.updated_at!==_.created_at&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),e.jsx("p",{className:"text-sm text-gray-900",children:P(_.updated_at)})]})]})]})}),_.parameters&&Object.keys(_.parameters).length>0&&e.jsx(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:e.jsxs(n,{children:[e.jsx(d,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(l,{className:"w-5 h-5"}),"Parameters"]})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-2",children:Object.entries(_.parameters).map(([s,t])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-500 capitalize",children:[s.replace(/_/g," "),":"]}),e.jsx("span",{className:"text-sm text-gray-900",children:"object"==typeof t?JSON.stringify(t):t})]},s))})})]})})]})]})]})]});var A}export{_ as default};
