import{j as e}from"./ui-BB-Ns5TH.js";import{H as s,d as t,L as a}from"./inertia-Cj_WjKpf.js";import{A as r,a as i,F as l,C as c,T as n,b as x}from"./AuthenticatedLayout-BBLrwm4R.js";import{C as d,b as m,c as o,a as h}from"./Card-Ds6DZKCN.js";import{B as j}from"./Button-WmfceJNP.js";import{P as p}from"./Progress-DY2WaZ5j.js";import{m as g}from"./motion-CkVjjaNW.js";import{A as y}from"./arrow-left-Dg9xWZOv.js";import{S as N}from"./square-pen-DKgJk9xk.js";import{T as u}from"./trash-2-DstgOvVN.js";import{C as f,T as v,U as w}from"./users-Vk9iYAaE.js";import{A as k}from"./activity-Dtcayooz.js";import{P as b}from"./plus-C8kxu608.js";import{B as _}from"./building-BPhryG2y.js";import{C as D}from"./clock-CUBuh0Xb.js";import{D as P}from"./download-CAAPgHvN.js";import{C as A}from"./app-CZ5g9MqA.js";import"./vendor-vi784Xxu.js";import"./utils-54zDqgmH.js";import"./house-CIkpS4mx.js";import"./shield-BVGIsKr8.js";import"./zap-BuVIDKNS.js";function C({kpi:C,milestones:T,progressHistory:$}){return e.jsxs(r,{children:[e.jsx(s,{title:`Kpis: ${C.title}`}),e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 max-w-6xl mx-auto",children:[e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[e.jsx("div",{className:"flex items-center space-x-4 mb-6",children:e.jsxs(j,{variant:"outline",onClick:()=>t.visit("/kpis"),className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"Back to KPIs"]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl shadow-lg",children:(()=>{const s=C.progress_percentage;return s>=100?e.jsx(A,{className:"w-8 h-8 text-green-500"}):s>=75?e.jsx(n,{className:"w-8 h-8 text-blue-500"}):s>=50?e.jsx(v,{className:"w-8 h-8 text-yellow-500"}):e.jsx(x,{className:"w-8 h-8 text-red-500"})})()}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:C.title}),e.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[(()=>{const s=C.progress_percentage;return s>=100?e.jsx(i,{className:"bg-green-100 text-green-800",children:"Completed"}):s>=75?e.jsx(i,{className:"bg-blue-100 text-blue-800",children:"On Track"}):s>=50?e.jsx(i,{className:"bg-yellow-100 text-yellow-800",children:"In Progress"}):e.jsx(i,{className:"bg-red-100 text-red-800",children:"At Risk"})})(),e.jsxs(i,{variant:"outline",children:[C.pillar?.code," - ",C.pillar?.name]}),e.jsx(i,{variant:"outline",children:C.frequency})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 mt-4 lg:mt-0",children:[e.jsx(a,{href:`/kpis/${C.id}/edit`,children:e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4"}),"Edit KPI"]})}),e.jsx(j,{variant:"outline",onClick:()=>{confirm(`Are you sure you want to delete "${C.title}"?`)&&t.delete(`/kpis/${C.id}`)},className:"text-red-600 hover:text-red-700",children:e.jsx(u,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(l,{className:"w-5 h-5"}),"KPI Overview"]})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:C.description}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Progress"}),e.jsxs("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[C.progress_percentage,"%"]})]}),e.jsx(p,{value:C.progress_percentage,className:"h-4"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current Value"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:C.current_value}),e.jsx("p",{className:"text-sm text-gray-500",children:C.unit})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Target Value"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:C.target_value}),e.jsx("p",{className:"text-sm text-gray-500",children:C.unit})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Baseline"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:C.baseline_value||"N/A"}),e.jsx("p",{className:"text-sm text-gray-500",children:C.baseline_value?C.unit:""})]})]})]})})]})}),e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5"}),"Progress History"]})}),e.jsx(h,{children:$&&$.length>0?e.jsx("div",{className:"space-y-4",children:$.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[s.value," ",C.unit]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.notes||"Progress update"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(s.recorded_at).toLocaleDateString()}),e.jsxs("p",{className:"text-xs text-gray-500",children:["by ",s.recorded_by?.name]})]})]},t))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(k,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No progress history recorded yet"})]})})]})}),e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5"}),"Related Milestones"]}),e.jsx(a,{href:`/milestones/create?kpi_id=${C.id}`,children:e.jsxs(j,{size:"sm",variant:"outline",children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Add Milestone"]})})]})}),e.jsx(h,{children:T&&T.length>0?e.jsx("div",{className:"space-y-3",children:T.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full "+(s.completion_percentage>=100?"bg-green-500":s.completion_percentage>=50?"bg-yellow-500":"bg-red-500")}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Due: ",new Date(s.due_date).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[s.completion_percentage,"%"]}),e.jsx(a,{href:`/milestones/${s.id}`,children:e.jsx(j,{size:"sm",variant:"ghost",children:"View"})})]})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(v,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"No milestones defined for this KPI"}),e.jsx(a,{href:`/milestones/create?kpi_id=${C.id}`,children:e.jsxs(j,{size:"sm",children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Create First Milestone"]})})]})})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:e.jsxs(d,{children:[e.jsx(m,{children:e.jsx(o,{children:"KPI Details"})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Department"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:C.department?.name})]})]}),C.assigned_user&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(w,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Assigned To"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:C.assigned_user.name})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(c,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Target Date"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:new Date(C.target_date).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(D,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Frequency"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white capitalize",children:C.frequency})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(n,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Weight"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[C.weight,"/10"]})]})]})]})]})}),C.calculation_method&&e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:e.jsxs(d,{children:[e.jsx(m,{children:e.jsx(o,{children:"Calculation Method"})}),e.jsx(h,{children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:C.calculation_method})})]})}),C.data_source&&e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:e.jsxs(d,{children:[e.jsx(m,{children:e.jsx(o,{children:"Data Source"})}),e.jsx(h,{children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:C.data_source})})]})}),e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:e.jsxs(d,{children:[e.jsx(m,{children:e.jsx(o,{children:"Actions"})}),e.jsxs(h,{className:"space-y-3",children:[e.jsxs(j,{className:"w-full",variant:"outline",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Export Data"]}),e.jsxs(j,{className:"w-full",variant:"outline",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Update Progress"]}),e.jsxs(j,{className:"w-full",variant:"outline",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"View Analytics"]})]})]})})]})]})]})]})}export{C as default};
